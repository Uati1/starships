{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\slata\\\\Documents\\\\zadanie\\\\zad\\\\pages\\\\index.js\";\n// import Loader from '../components/loader'\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Button, InputGroup, FormControl } from 'react-bootstrap';\nimport Layout from '../components/layout';\nimport { BsSearch } from 'react-icons/bs';\nimport Link from 'next/link';\n\nconst Index = (_ref) => {\n  let props = Object.assign({}, _ref);\n  const ships = props.results;\n  const films = [{\n    index: 1,\n    title: 'A New Hope',\n    present: false\n  }, {\n    index: 2,\n    title: 'The Empire Strikes Back',\n    present: false\n  }, {\n    index: 3,\n    title: 'Return of the Jedi',\n    present: false\n  }, {\n    index: 4,\n    title: 'The Phantom Menace',\n    present: false\n  }, {\n    index: 5,\n    title: 'Attack of the Clones',\n    present: false\n  }, {\n    index: 6,\n    title: 'Revenge of the Sith',\n    present: false\n  }];\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const {\n    0: filteredShips,\n    1: setfilteredShips\n  } = useState(ships);\n\n  const filmFilter = nb => {\n    setfilteredShips(ships.filter(ship => {\n      return ship.films.includes(`http://swapi.dev/api/films/${nb}/`);\n    }));\n  };\n\n  const handleChange = e => {\n    setSearch(e.target.value.toLowerCase());\n  };\n\n  useEffect(() => {\n    setfilteredShips(ships.filter(ship => ship.name.toLowerCase().includes(search)));\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(InputGroup, {\n        className: \"mb-3\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          placeholder: \"Search ship by name\",\n          \"aria-label\": \"search\",\n          \"aria-describedby\": \"basic-addon2\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputGroup.Append, {\n          children: /*#__PURE__*/_jsxDEV(InputGroup.Text, {\n            id: \"basic-addon2\",\n            children: /*#__PURE__*/_jsxDEV(BsSearch, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 46,\n              columnNumber: 50\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: films.map(film => {\n          return /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-secondary\",\n            onClick: () => filmFilter(film.index),\n            children: film.title\n          }, film.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 11\n      }, this), filteredShips.map(ship => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            className: \"link\",\n            href: `/ships/${ship.url.substring(ship.url.lastIndexOf('/') - 2).split('/').join('')}/`,\n            children: ship.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n};\n\nexport async function getStaticProps() {\n  const res = await fetch(`https://swapi.dev/api/starships/`);\n  const data = await res.json();\n\n  if (!data) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: data\n  };\n} // Index.getInitialProps = async function () {\n//     const res = await fetch(`https://swapi.dev/api/starships/`)\n//     const data = await res.json()\n//     if (!data) {\n//       return {\n//         notFound: true,\n//       }\n//     }\n//     return {ships: data.results}\n//   }\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/slata/Documents/zadanie/zad/pages/index.js"],"names":["React","useState","useEffect","Button","InputGroup","FormControl","Layout","BsSearch","Link","Index","props","ships","results","films","index","title","present","search","setSearch","filteredShips","setfilteredShips","filmFilter","nb","filter","ship","includes","handleChange","e","target","value","toLowerCase","name","map","film","url","substring","lastIndexOf","split","join","getStaticProps","res","fetch","data","json","notFound"],"mappings":"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","sourcesContent":["// import Loader from '../components/loader'\r\nimport React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport {Button,InputGroup, FormControl} from 'react-bootstrap'\r\nimport Layout from '../components/layout'\r\nimport { BsSearch } from 'react-icons/bs';\r\nimport Link from 'next/link';\r\nconst Index = ({...props}) => {\r\n  const ships = props.results;\r\n  const films = [\r\n    {index:1, title:'A New Hope', present:false},\r\n    {index:2, title:'The Empire Strikes Back', present:false},\r\n    {index:3, title:'Return of the Jedi', present:false},\r\n    {index:4, title:'The Phantom Menace', present:false},\r\n    {index:5, title:'Attack of the Clones', present:false},\r\n    {index:6, title:'Revenge of the Sith', present:false}\r\n  ]\r\n  const [search, setSearch] = useState('');\r\n  const [filteredShips, setfilteredShips] = useState(ships);\r\n  const filmFilter = (nb) =>{\r\n    setfilteredShips(ships.filter(ship => {\r\n      return ship.films.includes(`http://swapi.dev/api/films/${nb}/`)\r\n    }));\r\n  }\r\n\r\n\r\n  const handleChange = (e)=>{\r\n    setSearch(e.target.value.toLowerCase())\r\n  }\r\n\r\n  useEffect(() => {\r\n      setfilteredShips(ships.filter(ship=> ship.name.toLowerCase().includes(search))) \r\n  },[search]);\r\n\r\n    return (\r\n      <div>\r\n        <Layout>\r\n          <InputGroup className=\"mb-3\">\r\n            <FormControl\r\n              placeholder=\"Search ship by name\"\r\n              aria-label=\"search\"\r\n              aria-describedby=\"basic-addon2\"\r\n              onChange = {handleChange}\r\n            />\r\n            <InputGroup.Append>\r\n              <InputGroup.Text id=\"basic-addon2\"><BsSearch/></InputGroup.Text>\r\n            </InputGroup.Append>\r\n          </InputGroup>\r\n          <div >\r\n            {films.map(film=>{\r\n              return(<Button variant=\"outline-secondary\" key={film.index} onClick={() =>filmFilter(film.index)} >\r\n                {film.title}\r\n              </Button>\r\n            )})}\r\n            \r\n          </div>\r\n          {filteredShips.map(ship =>{\r\n            return(\r\n              <div >\r\n                  <Link className='link' href={`/ships/${ship.url.substring(ship.url.lastIndexOf('/') -2 ).split('/').join('')}/`}>\r\n                      {ship.name}\r\n                  </Link>\r\n              </div>\r\n            )\r\n          })}\r\n        </Layout>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport async function getStaticProps() {\r\n  const res = await fetch(`https://swapi.dev/api/starships/`)\r\n  const data = await res.json()\r\n  if (!data) {\r\n    return {\r\n      notFound: true,\r\n    }\r\n  }\r\n  return {props: data}\r\n}\r\n\r\n// Index.getInitialProps = async function () {\r\n//     const res = await fetch(`https://swapi.dev/api/starships/`)\r\n//     const data = await res.json()\r\n  \r\n//     if (!data) {\r\n//       return {\r\n//         notFound: true,\r\n//       }\r\n//     }\r\n//     return {ships: data.results}\r\n//   }\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}