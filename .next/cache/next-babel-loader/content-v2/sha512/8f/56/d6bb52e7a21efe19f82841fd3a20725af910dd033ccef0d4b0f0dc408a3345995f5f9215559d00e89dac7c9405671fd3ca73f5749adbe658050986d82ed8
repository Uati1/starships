{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\slata\\\\Documents\\\\zadanie\\\\zad\\\\pages\\\\index.js\";\n// import Loader from '../components/loader'\nimport React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport Element from '../components/element';\nimport { Button } from 'react-bootstrap';\nimport Layout from '../components/layout';\nimport Link from 'next/link';\n\nconst Index = (_ref) => {\n  let props = Object.assign({}, _ref);\n  const ships = props.results;\n  const films = [{\n    index: 1,\n    title: 'A New Hope'\n  }, {\n    index: 2,\n    title: 'The Empire Strikes Back'\n  }, {\n    index: 3,\n    title: 'Return of the Jedi'\n  }, {\n    index: 4,\n    title: 'The Phantom Menace'\n  }, {\n    index: 5,\n    title: 'Attack of the Clones'\n  }, {\n    index: 6,\n    title: 'Revenge of the Sith'\n  }];\n  const {\n    0: search,\n    1: setSearch\n  } = useState('');\n  const {\n    0: filteredShips,\n    1: setfilteredShips\n  } = useState(ships);\n\n  const filmFilter = nb => {\n    setfilteredShips(ships.filter(ship => {\n      return ship.films.includes(`http://swapi.dev/api/films/${nb}/`);\n    }));\n  };\n\n  const handleChange = e => {\n    setSearch(e.target.value.toLowerCase());\n  };\n\n  useEffect(() => {\n    setfilteredShips(ships.filter(ship => ship.name.toLowerCase().includes(search)));\n  }, [search]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          id: \"search\",\n          onChange: handleChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: films.map(film => {\n          return /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"outline-secondary\",\n            onClick: () => filmFilter(film.index),\n            children: film.title\n          }, film.index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 22\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 11\n      }, this), filteredShips.map(ship => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            href: `/ships/${ship.url.substring(ship.url.lastIndexOf('/') - 2).split('/').join('')}/`,\n            children: ship.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 19\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 15\n        }, this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 7\n  }, this);\n};\n\nexport async function getStaticProps() {\n  const res = await fetch(`https://swapi.dev/api/starships/`);\n  const data = await res.json();\n\n  if (!data) {\n    return {\n      notFound: true\n    };\n  }\n\n  return {\n    props: data\n  };\n} // Index.getInitialProps = async function () {\n//     const res = await fetch(`https://swapi.dev/api/starships/`)\n//     const data = await res.json()\n//     if (!data) {\n//       return {\n//         notFound: true,\n//       }\n//     }\n//     return {ships: data.results}\n//   }\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/slata/Documents/zadanie/zad/pages/index.js"],"names":["React","useState","useEffect","Element","Button","Layout","Link","Index","props","ships","results","films","index","title","search","setSearch","filteredShips","setfilteredShips","filmFilter","nb","filter","ship","includes","handleChange","e","target","value","toLowerCase","name","map","film","url","substring","lastIndexOf","split","join","getStaticProps","res","fetch","data","json","notFound"],"mappings":"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","sourcesContent":["// import Loader from '../components/loader'\r\nimport React, { useState, useEffect } from 'react';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport Element from '../components/element'\r\nimport {Button} from 'react-bootstrap'\r\nimport Layout from '../components/layout'\r\nimport Link from 'next/link';\r\nconst Index = ({...props}) => {\r\n  const ships = props.results;\r\n  const films = [\r\n    {index:1, title:'A New Hope'},\r\n    {index:2, title:'The Empire Strikes Back'},\r\n    {index:3, title:'Return of the Jedi'},\r\n    {index:4, title:'The Phantom Menace'},\r\n    {index:5, title:'Attack of the Clones'},\r\n    {index:6, title:'Revenge of the Sith'}\r\n  ]\r\n  const [search, setSearch] = useState('');\r\n  const [filteredShips, setfilteredShips] = useState(ships);\r\n  const filmFilter = (nb) =>{\r\n    setfilteredShips(ships.filter(ship => {\r\n      return ship.films.includes(`http://swapi.dev/api/films/${nb}/`)\r\n    }));\r\n  }\r\n\r\n\r\n  const handleChange = (e)=>{\r\n    setSearch(e.target.value.toLowerCase())\r\n  }\r\n\r\n  useEffect(() => {\r\n      setfilteredShips(ships.filter(ship=> ship.name.toLowerCase().includes(search))) \r\n  },[search]);\r\n\r\n    return (\r\n      <div>\r\n        <Layout>\r\n          <div >\r\n            <input type=\"text\" id=\"search\" onChange={handleChange}/>\r\n          </div>\r\n          <div >\r\n            {films.map(film=>{\r\n              return(<Button variant=\"outline-secondary\" key={film.index} onClick={() =>filmFilter(film.index)} >\r\n                {film.title}\r\n              </Button>\r\n            )})}\r\n            \r\n          </div>\r\n          {filteredShips.map(ship =>{\r\n            return(\r\n              <div >\r\n                  <Link href={`/ships/${ship.url.substring(ship.url.lastIndexOf('/') -2 ).split('/').join('')}/`}>\r\n                      {ship.name}\r\n                  </Link>\r\n              </div>\r\n            )\r\n          })}\r\n        </Layout>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport async function getStaticProps() {\r\n  const res = await fetch(`https://swapi.dev/api/starships/`)\r\n  const data = await res.json()\r\n  if (!data) {\r\n    return {\r\n      notFound: true,\r\n    }\r\n  }\r\n  return {props: data}\r\n}\r\n\r\n// Index.getInitialProps = async function () {\r\n//     const res = await fetch(`https://swapi.dev/api/starships/`)\r\n//     const data = await res.json()\r\n  \r\n//     if (!data) {\r\n//       return {\r\n//         notFound: true,\r\n//       }\r\n//     }\r\n//     return {ships: data.results}\r\n//   }\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}